(function(e){function t(t){for(var r,u,i=t[0],o=t[1],l=t[2],b=0,d=[];b<i.length;b++)u=i[b],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&d.push(a[u][0]),a[u]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==a[o]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},c=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/youtube-languages/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=o;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0f03":function(e,t,n){"use strict";n("6e9c")},"1f67":function(e,t,n){},"606c":function(e,t,n){},"6e9c":function(e,t,n){},"8e28":function(e,t,n){"use strict";n("1f67")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"app"};function c(e,t){var n=Object(r["I"])("router-view");return Object(r["y"])(),Object(r["j"])("div",a,[Object(r["n"])(n)])}var u=n("6b0d"),i=n.n(u);const o={},l=i()(o,[["render",c]]);var s=l,b=n("679d"),d=n("2ccf"),p=(n("2de6"),n("5363"),n("2058")),O=n("f24d"),j=n("6c02"),f=n("1da1"),v=(n("96cf"),{class:"app-navbar"}),h={class:"session"},m=Object(r["m"])("Sign in"),g=Object(r["m"])("Logout"),y=Object(r["o"])({setup:function(e){var t=Object(O["b"])(),n=t.loginWithRedirect,a=t.logout,c=t.user,u=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){a()};return function(e,t){var n=Object(r["I"])("o-button");return Object(r["y"])(),Object(r["j"])("div",v,[Object(r["k"])("div",h,[Object(r["O"])(c)?Object(r["i"])("",!0):(Object(r["y"])(),Object(r["h"])(n,{key:0,variant:"success",outlined:"",onClick:u},{default:Object(r["V"])((function(){return[m]})),_:1})),Object(r["O"])(c)?(Object(r["y"])(),Object(r["h"])(n,{key:1,variant:"danger",outlined:"",onClick:i},{default:Object(r["V"])((function(){return[g]})),_:1})):Object(r["i"])("",!0)])])}}});n("8e28");const k=i()(y,[["__scopeId","data-v-67597dd4"]]);var w=k,x={class:"layout"},V={class:"container is-fluid"},R=Object(r["o"])({setup:function(e){return function(e,t){return Object(r["y"])(),Object(r["j"])("div",x,[Object(r["n"])(w),Object(r["k"])("div",V,[Object(r["H"])(e.$slots,"default")])])}}});const _=R;var I=_,S={class:"homepage"},D=Object(r["m"])("French"),C=Object(r["m"])("Chinese"),E=Object(r["o"])({setup:function(e){return function(e,t){var n=Object(r["I"])("router-link");return Object(r["y"])(),Object(r["h"])(I,null,{default:Object(r["V"])((function(){return[Object(r["k"])("div",S,[Object(r["k"])("p",null,[Object(r["n"])(n,{to:"/french"},{default:Object(r["V"])((function(){return[D]})),_:1})]),Object(r["k"])("p",null,[Object(r["n"])(n,{to:"/chinese"},{default:Object(r["V"])((function(){return[C]})),_:1})])])]})),_:1})}}});const M=E;var U=M,q=n("1232"),P={class:"hero"},T={class:"hero-body"},z={class:"title"},A={key:0,class:"subtitle"},H=Object(r["o"])({props:{title:{type:String,required:!0},subtitle:{type:String,default:""}},setup:function(e){return function(t,n){return Object(r["y"])(),Object(r["j"])("section",P,[Object(r["k"])("div",T,[Object(r["k"])("p",z,Object(r["M"])(e.title),1),e.subtitle.length?(Object(r["y"])(),Object(r["j"])("p",A,Object(r["M"])(e.subtitle),1)):Object(r["i"])("",!0)])])}}});const L=H;var B=L,J=(n("caad"),n("2532"),n("a4d3"),n("e01a"),function(e){return"https://www.youtube.com/channel/".concat(e,"/videos")}),W=function(e){return new Date(e).toLocaleDateString("es-ES",{weekday:"short",year:"numeric",month:"short",day:"numeric"})},Y=n("d4ec"),N=n("bee2"),F=n("bc3a"),G=n.n(F),K=function(){function e(){Object(Y["a"])(this,e)}return Object(N["a"])(e,null,[{key:"get",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,e.next=4,G.a.get(t,{params:n});case 4:if(r=e.sent,r.data){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",r.data);case 10:return e.prev=10,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"post",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=1,e.next=4,G.a.post(t,n,r);case 4:if(a=e.sent,!(a.status<200)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",a.data);case 10:return e.prev=10,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),Q=K,X=function(){function e(){Object(Y["a"])(this,e)}return Object(N["a"])(e,null,[{key:"getVideos",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q.get(e.retrieveVideosUrl,{language:n.language,afterDate:n.afterDate,beforeDate:n.beforeDate,blacklisted:n.blacklisted,title:n.title});case 2:return r=t.sent,t.abrupt("return",r||null);case 4:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"banChannel",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q.post(e.banChannelUrl,{channelId:n},{headers:{Authorization:"Bearer ".concat(r)}});case 2:return a=t.sent,t.abrupt("return",a||null);case 4:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()}]),e}();X.retrieveVideosUrl="https://us-central1-amish-languages.cloudfunctions.net/retrieve-videos",X.banChannelUrl="https://us-central1-amish-languages.cloudfunctions.net/ban-channel";var Z=X,$=Object(r["o"])({props:{variant:{type:String,required:!0},label:{type:String,required:!0}},emits:["input"],setup:function(e,t){var n=t.emit,a=Object(r["E"])(!1);return Object(r["T"])(a,(function(){n("input",a.value)})),function(t,n){var c=Object(r["I"])("o-switch");return Object(r["y"])(),Object(r["h"])(c,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return a.value=e}),variant:e.variant},{default:Object(r["V"])((function(){return[Object(r["m"])(Object(r["M"])(e.label),1)]})),_:1},8,["modelValue","variant"])}}});const ee=$;var te=ee,ne=Object(r["o"])({props:{channelId:{type:String,required:!0},token:{type:String,required:!0}},setup:function(e){var t=e,n=Object(r["E"])(!1),a=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z.banChannel(t.channelId,t.token);case 4:a=e.sent,a||(n.value=!1,console.log("Error blacklisting channel"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(e,t){return Object(r["y"])(),Object(r["h"])(te,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e}),label:"Blacklisted",variant:"danger",onInput:a},null,8,["modelValue"])}}});const re=ne;var ae=re,ce=function(e){return Object(r["B"])("data-v-669f944f"),e=e(),Object(r["z"])(),e},ue={class:"card"},ie={class:"card-image"},oe=["href"],le={class:"image is-16by9"},se={alt:"Placeholder image"},be={class:"card-content"},de={class:"media"},pe={class:"media-content"},Oe={class:"title is-6"},je={class:"subtitle is-6"},fe={class:"content"},ve={class:"description hide-overflown-text"},he=ce((function(){return Object(r["k"])("br",null,null,-1)})),me={class:"date is-pulled-right"},ge=Object(r["o"])({props:{video:{type:void 0,required:!0},token:{type:String,default:null},permissions:{type:Array,default:null}},setup:function(e){var t=e,n=Object(r["f"])((function(){return t.token&&t.permissions.includes("create:ban")}));return function(t,a){var c=Object(r["J"])("lazy");return Object(r["y"])(),Object(r["j"])("div",ue,[Object(r["k"])("div",ie,[Object(r["k"])("a",{href:Object(r["O"])(J)(e.video.channelId),target:"_blank"},[Object(r["k"])("figure",le,[Object(r["W"])(Object(r["k"])("img",se,null,512),[[c,e.video.thumbnailUrl]])])],8,oe)]),Object(r["k"])("div",be,[Object(r["k"])("div",de,[Object(r["k"])("div",pe,[Object(r["k"])("p",Oe,Object(r["M"])(e.video.title),1),Object(r["k"])("p",je,"@"+Object(r["M"])(e.video.channelTitle),1)])]),Object(r["k"])("div",fe,[Object(r["k"])("div",ve,Object(r["M"])(e.video.description),1),he,Object(r["k"])("div",me,Object(r["M"])(Object(r["O"])(W)(e.video.publishedAt)),1)]),Object(r["O"])(n)?(Object(r["y"])(),Object(r["h"])(ae,{key:0,"channel-id":e.video.channelId,token:e.token},null,8,["channel-id","token"])):Object(r["i"])("",!0)])])}}});n("dc1f");const ye=i()(ge,[["__scopeId","data-v-669f944f"]]);var ke=ye,we={class:"app-selectors"},xe={class:"app-search"},Ve=Object(r["m"])(" Show blacklisted channels "),Re={key:0,class:"cards-view"},_e=Object(r["o"])({setup:function(e){var t=Object(r["E"])(null),n=Object(r["E"])(null),a=Object(r["E"])(""),c=Object(r["E"])([]),u=Object(r["C"])({minDate:new Date("2021-12-06"),maxDate:new Date}),i=Object(r["E"])([]),o=Object(r["E"])(!1),l=Object(r["E"])(""),s=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.value.length||l.value.length){e.next=2;break}return e.abrupt("return");case 2:return t=i.value?i.value[0]:void 0,n=i.value?i.value[1]:void 0,r={language:a.value,afterDate:t,beforeDate:n,blacklisted:!o.value,title:l.value.length?l.value:void 0},e.next=7,Z.getVideos(r);case 7:u=e.sent,u&&(c.value=u);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){i.value=[]},d=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=[],e.next=3,s();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r["T"])(l,Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)})))),Object(r["T"])(i,Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)})))),Object(r["T"])(o,Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)})))),Object(r["w"])(Object(f["a"])(regeneratorRuntime.mark((function e(){var r,c,u,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(j["c"])(),c=r.params.language,"string"===typeof c&&(a.value=c),e.next=5,Object(O["b"])().getAccessTokenSilently();case 5:u=e.sent,u&&(t.value=u,o=Object(q["a"])(u),n.value=null!==(i=o.permissions)&&void 0!==i?i:null);case 7:case"end":return e.stop()}}),e)})))),function(e,a){var s=Object(r["I"])("o-input"),d=Object(r["I"])("o-field"),p=Object(r["I"])("o-datepicker"),O=Object(r["I"])("o-icon"),j=Object(r["I"])("o-tooltip"),f=Object(r["I"])("o-switch");return Object(r["y"])(),Object(r["h"])(I,null,{default:Object(r["V"])((function(){return[Object(r["n"])(B,{title:"Youtube videos"}),Object(r["k"])("div",we,[Object(r["k"])("div",xe,[Object(r["n"])(d,null,{default:Object(r["V"])((function(){return[Object(r["n"])(s,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return l.value=e}),placeholder:"Search title"},null,8,["modelValue"])]})),_:1})]),Object(r["n"])(p,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=function(e){return i.value=e}),range:"","min-date":Object(r["O"])(u).minDate,"max-date":Object(r["O"])(u).maxDate,icon:"calendar",placeholder:"Click to select..."},null,8,["modelValue","min-date","max-date"]),Object(r["n"])(j,{label:"Reset calendar"},{default:Object(r["V"])((function(){return[Object(r["k"])("a",{onClick:b},[Object(r["n"])(O,{icon:"calendar-refresh",size:"is-medium"})])]})),_:1})]),Object(r["n"])(d,null,{default:Object(r["V"])((function(){return[Object(r["n"])(f,{modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=function(e){return o.value=e})},{default:Object(r["V"])((function(){return[Ve]})),_:1},8,["modelValue"])]})),_:1}),c.value?(Object(r["y"])(),Object(r["j"])("div",Re,[(Object(r["y"])(!0),Object(r["j"])(r["b"],null,Object(r["G"])(c.value,(function(e){return Object(r["y"])(),Object(r["h"])(ke,{key:e._id,video:e,token:t.value,permissions:n.value,lazy:""},null,8,["video","token","permissions"])})),128))])):Object(r["i"])("",!0)]})),_:1})}}});n("0f03");const Ie=i()(_e,[["__scopeId","data-v-01b42844"]]);var Se=Ie,De=[{path:"/",name:"Homepage",component:U},{path:"/:language",name:"LanguageYoutubeVideos",component:Se}],Ce=Object(j["a"])({history:Object(j["b"])("/youtube-languages/"),routes:De}),Ee=Ce,Me=Object(O["a"])({domain:"amish-languages.us.auth0.com",client_id:"atRXAgNWqrzn3dKndRHL7SHUv3qcZNYQ",redirect_uri:"https://elyse0.github.io/youtube-languages/",audience:"https://us-central1-amish-languages.cloudfunctions.net/ban-channel"});Object(r["g"])(s).use(b["a"],d["bulmaConfig"]).use(p["a"]).use(Me).use(Ee).mount("#app")},dc1f:function(e,t,n){"use strict";n("606c")}});
//# sourceMappingURL=app.987c7226.js.map